Schedule Apex:
  1. If you want to run Apex classes at a specific time then we use schedule apex .
  2. If you want to schedule Apex class,then apex class has to implement schedulable Interface.
  3.It is something like scheduled flows.
  4.If you want to run your apex logic in future then we use schedule Apex

1.Any Apex class which implements Schedulable Interface has to define execute method.

2.Operation or Logic which you want to schedule should be defined with in the execute method.

Requirement: Every month 1st I want to insert one account record?

Apex class:
----------
public class ScheduleApexExample implements schedulable {
    public void  execute(System.SchedulableContext sc){
        system.debug('Job Id is :' + sc.getTriggerId());
        Account acc = new Account();
        acc.Name = 'Schedule Apex Account';
        acc.Phone ='1234';
        acc.Description = 'new Account record created through schedule apex';
        insert acc;
    }
}

Q) How many ways can we execute Scheduled class?
	2 ways
	a.Manually
	b.through cron expression
	
a. We can also schedule apex class manually  using declarative process.
   Setup |---Build |---Develop |---Apex Classes |---Schedule Apex

Steps to create schedule Job
    Step 1: Choose the apex class 
    Step 2 : Enter the job Name
    Step 3: Define the Time Trigger
    Step 4: Save
 
Note:In the above scheduling process we can schedule with seconds and minutes.

b.Execute the below code in the Anonymous window:
----------------------------------------------
string cronexp = '0 0 13 * * ?'; //Every day 1pm
ScheduleApexDemo sa = new ScheduleApexDemo();
system.schedule('schjob', cronexp, sa);

Note: Once the scheduled job is scheduled and now if you want to modify some logic, if you try to modify it will throw an error, so to avoid this
      we need to rename the class and make changes and then get back with the same class name and save.

Q) If want to schedule the class we have to define time trigger /cronExpression in the form of 	
	-----------------------------------------------------------------------------
	SECS	MINS	HRS	DAY_MONTH 	MONTH_YEAR	DAY_WEEK	YEAR
	-----------------------------------------------------------------------------

Q)    Symbol		 Meaning
  -------------------------------------------------------------
	*	Every (Every day,Every Month ,Every hour ,Every Min)
	L	Last ( Last Day  ,Last Month , Last firday )
	W	Nearest Working Day
	?	Not sure 
	,	3,5,7 ( every 3rd ,5th ,7th)
 --------------------------------------------------------------

Example:
Job has to run at  8 PM on Every saturday
	0	0	20	?	*	7
Note :Sunday : 1 and Saturday : 7
     
Q)I want to know the job id of the schedule job
	Id jobId=System.schedule(jobName, cronExpression,object) ;
	a. JobName:It can be any unique string.
	b. CronExpression : Time at which the job has to fire.
	c. Object: Object Name of the scheduled class.

Note: Any job that is scheduled in the salesforce will be registred CRONTRIGGER object .

If you want to know the status of the job we can write a soql on CronTriger object using jobId generated by system.schedule() method invocation.
    CronTrigger cron=[select id,cronExpression from CronTrigger where id=:jobId ];
	
Note: If you want to schedule the batch apex at a particular reccursive then 'invoke the batch apex with in the execute method.

Q) I want to schedule the Batch class?

Batch Apex class:

public class BatchApexExample1 implements database.Batchable<Sobject>, database.stateful {
    
    //start method in Batch apex
    public System.Iterable<SObject> start(Database.BatchableContext bc){
      
    return null;
    }
    //execute method in Batch Apex
    public void execute(Database.BatchableContext bc , List<SObject> sc){
        
    }
    //Finish method in Batch Apex
    public void finish(Database.BatchableContext bc){
        
    }
    
}

Schedule Apex class:

public class ScheduleApexExample1 implements schedulable {
	//execute method in Schedule apex
    public void execute(System.SchedulableContext sc){
        BatchApexExample1 be1 = new BatchApexExample1();
        database.executeBatch(be1, 200);
    }
}

Scheduling the schedule Apex in Anonymous window
------------------------------------------------
string cronexp = '0 0 13 * * ?';
ScheduleApexExample1 se1 = new ScheduleApexExample1();
BatchApexExample1 be1 = new BatchApexExample1();
system.schedule('MergeJob', cronexp, se1);

Q) How to stop the scheduled jobs using Apex?
   Goto the anonymous window:
   system.abortJob('08e5i00000OCa06AAD');

Note: Define the cronTrigger id in which you want to abort and also you can check in the schedule job that job will not be there.

Q) How to use schedule apex class inside the batch class?

Batch Apex Class::
public class BatchApexExample1 implements database.Batchable<Sobject>, database.stateful, schedulable {
    
    //execute method in the schedule apex
    public void execute(System.SchedulableContext sc){
        BatchApexExample1 be1 = new BatchApexExample1();
        database.executeBatch(be1, 200);
    }
    //start method in Batch apex
    public System.Iterable<SObject> start(Database.BatchableContext bc){
      
    return null;
    }
    //execute method in Batch Apex
    public void execute(Database.BatchableContext bc , List<SObject> sc){
        
    }
    //Finish method in Batch Apex
    public void finish(Database.BatchableContext bc){
        
    }
    
}

Execute the code in the Anonymous window::

BatchApexExample1 be1 = new BatchApexExample1();
system.scheduleBatch(be1, 'Myjob1', 30);
system.scheduleBatch(be1, 'Myjob2', 30, 500

Note:
System.scheduleBatch(object, jobName, minututesfromnow , size ofbatch);
This method is used to run the batch one time after given minutes from now

Q) How many jobs we can schedule at a time ?
ANS : 100 apex jobs we can schedule.

Q) If we schedule the job ,will the job run exactly at the same time ?
ANS : We cannot assure ,as all the schedule jobs are added to the queue and they will be execute once resources are available .

Q)Can we call webservices from the Schedule apex ?
ANS : 1. Schedule apex will not support synchronous webservices .
      2. If you want to call webservices ,define the webservices in the future method and call the future method in schedule apex.
      
Q) How many batch Jobs can we put in a Queue?
   5 batch jobs

Note: Lets say we have 20 batch jobs, 5 batch jobs are already in the Queue, remaining 15 will be in the Apex flex queue with satus as Holding and also we can
re-order which jobs need to be executed.
